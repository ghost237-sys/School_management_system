{# Category template: All Media #}
<div>
  <div style="font-weight:700; margin-bottom:8px;">{{ c.name }}</div>
  <div class="grid">
    {% for item in c.media.all %}
      {% if item.kind == 'image' and item.image %}
        <div class="card" style="padding:0; overflow:hidden;">
          <img src="{{ item.image.url }}" alt="{{ item.caption }}" style="display:block; width:100%; height:auto;" />
          {% if item.caption %}<div style="padding:10px;" class="muted">{{ item.caption }}</div>{% endif %}
        </div>
      {% elif item.kind == 'video' and item.video_url %}
        <div class="card" style="padding:16px;">
          <div class="ratio" style="position:relative; width:100%; padding-top:56.25%; border-radius:8px; overflow:hidden;">
            <iframe src="{{ item.video_url }}" title="Video" allowfullscreen style="position:absolute; top:0; left:0; width:100%; height:100%; border:0;"></iframe>
          </div>
          {% if item.caption %}<div class="muted" style="margin-top:8px;">{{ item.caption }}</div>{% endif %}
        </div>
      {% elif item.kind == 'file' and item.file %}
        <div class="card" style="padding:16px;">
          <a href="{{ item.file.url }}" target="_blank" style="font-weight:600; text-decoration:none;">Download</a>
          {% if item.caption %}<div class="muted">{{ item.caption }}</div>{% endif %}
        </div>
      {% endif %}
    {% empty %}
      <div class="card"><div class="muted">No media yet.</div></div>
    {% endfor %}
  </div>
</div>
